<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src='legacy.js' nomodule></script>
    <script src="css.js" blocking="render"></script>
    <script src="css_bad.js" nomodule></script>
    <noscript>
        <link rel="stylesheet" href="noscript.css">
    </noscript>
    <link rel="stylesheet" href="chococooky.css">
    <link rel="stylesheet" href="cute-green.css">
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <meta http-equiv="content-language" content="en">
    <meta property="og:locale" content="en_US">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, user-scalable=yes, viewport-fit=cover, interactive-widget=resizes-visual">
    <meta name="description" content="Misha's underwater page!!">
    <meta property="og:image:width" content="IMAGE WIDTH HERE">
    <meta property="og:image:height" content="IMAGE HEIGHT HERE">
    <meta property="og:image:type" content="image/*">
    <meta property="og:type" content="website">
    <meta property="og:image" content="YOUR IMAGE HERE">
    <meta property="og:url" content="https://addsoupbase.github.io">
    <meta property="og:description" content="Misha's underwater page!!">
    <meta property="og:title" content="addsoupbaseüçú">
    <meta property="og:site_name" content="addsoupbaseüçú">
    <meta name="twitter:title" content="addsoupbaseüçú">
    <meta name="application-name" content="addsoupbaseüçú">
    <meta name="application-url" content="https://addsoupbase.github.io">
    <meta name="twitter:url" content="https://addsoupbase.github.io">
    <meta name="web_author" content="addsoupbaseüçú">
    <meta name="twitter:creator" content="@addsoupbase">
    <meta name="twitter:site" content="@addsoupbase">
    <meta name="twitter:creator:id" content="1799269566834454528">
    <meta name="twitter:site:id" content="1799269566834454528">
    <meta name="creator" content="addsoupbaseüçú">
    <meta name="designer" content="addsoupbaseüçú">
    <meta name="twitter:image" content="YOUR IMAGE HERE">
    <meta name="twitter:image:width" content="IMAGE WIDTH HERE">
    <meta name="twitter:image:height" content="IMAGE HEIGHT HERE">
    <meta name="msapplication-navbutton-color" content="#0265E2">
    <meta name="msapplication-TileColor" content="#0265E2">
    <meta name="msapplication-square150x150logo" content="./apple-touch-icon-152x152.png">
    <meta name="msapplication-square310x310logo" content="./apple-touch-icon-180x180.png">
    <meta name="msapplication-square70x70logo" content="./apple-touch-icon-72x72.png">
    <meta name="msapplication-wide310x150logo" content="./apple-touch-icon-180x180.png">
    <meta name="msapplication-TileImage" content="./apple-touch-icon-180x180.png">
    <meta name="msapplication-starturl" content="https://addsoupbase.github.io">
    <meta name="origin" content="https://addsoupbase.github.io">
    <meta name="msapplication-tooltip" content="addsoupbaseüçú">
    <meta name="prism:alternateTitle" content="addsoupbaseüçú">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="thumbnail" content="YOUR IMAGE HERE">
    <meta property="profile:username" content="addsoupbaseüçú">
    <!--summary_large_image,summary,app,or player -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="shortcut icon" href="favicon.ico">
    <meta name="robots" content="index">
    <meta name="theme-color" content="#0265E2">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="author" content="addsoupbaseüçú">
    <link rel="canonical" href="https://addsoupbase.github.io">
    <script
        type="application/ld+json">{"@context":"https://schema.org","@type": "WebSite","name":"addsoupbaseüçú","url":"https://addsoupbase.github.io","description":"Misha's underwater page!!","author":{"@type": "Person","name":"addsoupbaseüçú","sameAs":["https://twitter.com/addsoupbase"]},"mainEntityOfPage":{"@type":"WebPage","@id":"https://addsoupbase.github.io"},"image":{"@type":"ImageObject","url":"YOUR IMAGE HERE","width":IMAGE WIDTH HERE,"height":IMAGE HEIGHT HERE}}</script>
    <link rel="apple-touch-icon" sizes="57x57" href="./apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon-180x180.png">
    <meta name="mobile-web-app-capable" content="no">
    <meta name="apple-mobile-web-app-capable" content="no">
    <!--^ yes if the site has stuff like back buttons-->
    <meta name="apple-mobile-web-app-title" content="addsoupbaseüçú">
    <link rel="apple-touch-startup-image" href="favicon.ico">
    <title>addsoupbase</title>
    <!--https://wiki.whatwg.org/wiki/MetaExtensions-->
    <style>
        @keyframes slideshow {
            0% {
                background-position-x: 0%;
            }

            100% {
                background-position-x: calc(var(--width) * -1);
            }
        }

        .lumineon.shiny {
            filter: hue-rotate(198deg);
        }

        .nihilego.shiny {
            filter: hue-rotate(229deg);
        }

        .kyogreprimal.shiny {
            filter: hue-rotate(177deg) grayscale(0.5) brightness(1.1);
        }

        .corsola.shiny {
            filter: hue-rotate(231deg) brightness(1.2);
        }

        :is(.manaphy,
            .phione,
            .mantyke).shiny {
            filter: hue-rotate(318deg);
        }

        :is(.skrelp, .alomomola).shiny {
            filter: hue-rotate(306deg);
        }

        .luvdisc.shiny {
            filter: hue-rotate(87deg) brightness(1.4);
        }

        :is(.wailord,
            .kingdra,
            .wailmer).shiny {
            filter: hue-rotate(70deg);
        }

        .tentacool.shiny {
            filter: hue-rotate(92deg)
        }

        :is(.jellicent_f,
            .jellicent_m) .shiny {
            filter: hue-rotate(302deg);
        }

        .pkm {
            background-repeat: no-repeat;
            image-rendering: pixelated;
            position: absolute;
        }

        :root {
            font-family: Choco;
        }

        body,
        html {
            padding: 0;
            margin: 0;
            overflow: hidden;
        }

        .pkm,
        .holder {
            content-visibility: auto;
        }

        #background {
            position: fixed;
            width: 100vw;
            z-index: -2;
            height: 100vh;
            touch-action: none;
            background: linear-gradient(52deg, rgba(2, 101, 226, 1) 0%, rgba(0, 212, 255, 1) 100%);
            overflow: hidden;
            animation: bg 1s ease infinite
        }

        .holder {
            display: block;
            position: absolute;
            /* will-change: transform; */
        }

        svg {
            /* --zoom: 0.3; */
            max-width: unset;
            user-select: none;
            pointer-events: auto;
        }



        @keyframes xAxis {
            0% {
                transform: translateX(calc(0vw - var(--size)));
            }

            100% {
                transform: translateX(calc(100vw + var(--size)));
            }
        }

        @keyframes dissolve {
            100% {
                filter: opacity(0%) grayscale(100%) blur(20px) brightness(0%);
                transform: scale(0, 0)
            }
        }

        @keyframes yAxis {
            0% {
                transform: translateY(-100px);
            }

            100% {
                transform: translateY(100px);
            }
        }

        @keyframes yAxis2 {
            0% {
                transform: translateY(100px);
            }

            100% {
                transform: translateY(-100px);
            }
        }

        @keyframes wiggle {
            0% {
                transform: translateX(-10px)
            }

            100% {
                transform: translateX(10px)
            }
        }

        @keyframes up {
            0% {
                transform: translateY(calc(var(--size) * -2))
            }

            100% {
                transform: translateY(-110vh)
            }
        }

        .avatarpopped {
            border-radius: 100%;
            width: 55px;
            height: 55px;
        }

        .avatar {
            border-radius: 100%;
            width: 100%;
            height: 100%;
        }

        .popped {
            width: 50px;
            height: 50px;
            position: absolute;
        }

        figure {

            text-align: center;
        }

        .preview {
            display: grid;
            place-items: center;
        }



        .caption::before {
            content: "@"
        }

        .caption {
            text-transform: capitalize;
            color: white;
        }

        @keyframes pop {
            0% {
                filter: opacity(100%)
            }

            100% {
                transform: scale(2, 2);
                filter: opacity(0%)
            }
        }

        @keyframes fade_in {
            0% {
                filter: opacity(0%)
            }

            100% {
                filter: opacity(100%)
            }
        }

        .lanturn {
            filter: drop-shadow(0 0 5px yellow);
        }

        #count {
            opacity: 0;
            --user-select: none;
            transition: opacity .3s ease-out;
            pointer-events: none;
        }

        #count::before {
            content: "ü´ß";
            margin: 5px
        }

        *,
        ::before,
        ::after {
            box-sizing: border-box;
        }

        img {
            image-rendering: auto;
        }

        #holder {
            padding: 1px;
            image-rendering: pixelated;
            opacity: 0;
            transition: opacity .3s ease-in-out, background-color 0.3s ease, border-color 0.3s ease;
            width: 100%;
            max-width: 600px;
            max-width: min(700px, 95vw);
            height: 100%;
            max-height: min(480px, 85vh);
            /* resize: both; */
            overflow: hidden;
        }

        main {
            height: 100%;
            overflow-y: auto;
            border-radius: inherit;
            --scrollbar-width: 5px;
            scrollbar-width: thin;
            --scrollbar-thumb-color: hsl(350, 42%, 75%);
            --scrollbar-color: #3a9d61;
            background-image: url(./media/flowers.webp), url(./media/topdecor.webp), url(./media/roses.webp);
            background-repeat: no-repeat, no-repeat, no-repeat;
            background-size: contain, 130px, 13%;
            background-position-y: bottom, top;
            background-position-x: center, right, 80px;
            background-attachment: local;
        }

        button {
            --user-select: none
        }

        .hellokitty,
        .divider {
            --user-drag: none;
            --user-select: none;
            width: 30px;
            height: 30px;
            image-rendering: pixelated;
        }

        .divider {
            width: 20px;
            height: 20px;
            vertical-align: middle;
            place-content: center;
            place-items: center;
            place-self: center;
        }
    </style>
    <noscript>
        <style>
            #holder {
                opacity: 1
            }
        </style>
    </noscript>
</head>

<body>
    <div id="background" style="--user-select:none"></div>
    <div id="holder" class="center_screen cute-green">
        <main style="opacity:1">
            <div>
                <picture>
                    <source srcset="./media/art.avif" type="image/avif">
                    <source srcset="./media/art.webp" type="image/webp">
                    <img decoding="async" src="./media/art.jpg" alt="avatar"
                        style="margin: 5px;border-radius: 100%;width:60px;height:60px;max-width: unset;" width="60"
                        height="60"
                        title="Mila (my old best friend) drew this!! She left though because she didn't like the fact that I had other friends!">
                </picture>
            </div>
            <h1 style="display: contents;">addsoupbase</h1>
            <h2 style="font-size: 1em;">thank you so much for looking at this i love you everyone</h2>
            <div style="place-content: center;place-items: center;"><button
                    class="cute-green-button">Background</button><img decoding="async"
                    src="http://localhost:3000/cute-emojis/emojis/02665925378628511.gif" class="divider" alt><button
                    class="cute-green-button">Fullscreen</button><img decoding="async"
                    src="http://localhost:3000/cute-emojis/emojis/02665925378628511.gif" class="divider" alt><button
                    class="cute-green-button">Fullscreen</button>
            </div>
            <p>Send me something, or press the paper below to draw something instead</p>
            <form action="https://misha-mail-85.deno.dev" method="POST"
                style="display: grid;width: max-content;place-self: center;margin:auto;place-self:center">
                <input class="cute-green" name="name" placeholder="Name" enterkeyhint="next">
                <input class="cute-green" name="message" placeholder="Message" required enterkeyhint="send">
                <div style="--user-select:none;display: flex;place-content: center;place-items: center;"><img
                        decoding="async" src="http://localhost:3000/cute-emojis/emojis/1319311940304113736.gif"
                        class="hellokitty" alt draggable="false"><button id="send"
                        class="cute-green-button">Send</button><img decoding="async"
                        src="http://localhost:3000/cute-emojis/emojis/1319312145560895591.gif" class="hellokitty" alt
                        draggable="false">
                </div>
            </form>
            <form action="https://drawing-submissions.deno.dev/?user=misha" method="POST">
                <!-- <paper-canvas></paper-canvas> -->
            </form>
        </main>
    </div>
    <output id="count" aria-live="polite" aria-hidden="true"
        style="font-size: 2em;position: fixed;bottom:10px;left:10px;color:white">0</output>
</body>
<script type="module">
    import './sound.js'
    import * as v from './v4.js'
    const h = window[Symbol.for('[[HModule]]')]
    import dataURLS from './scripts/dataURLS.js'
    audio.load('./media/pop.mp3')
    const { css } = v
    const { Proxify } = v
    css.registerProperty('--size', '0px', false, '<length>',)
    css.registerProperty('--width', '0px', false, '<length>',)
    css.registerProperty('--frames', 0, false, '<integer>',)
    const { background: bg, count } = v.id
    let isHolding = false
    /*  bg.delegate({
          contentvisibilityautostatechange(e) {
              this.style.willChange = e.skipped ? '' : 'transform'
          },
      }, o => o.className.includes('pkm'))*/
    let popped = 0
    bg.delegate({
        async pointerdown(e) {
            count.style.opacity = 1
            audio.play('pop.mp3')
            let div = Proxify(this.closest('div'))
            count.textContent = `${++popped}`
            // count.ariaNotify?.(`Popped ${popped} bubbles`)
            div.dataset.popped = ''
            count.ariaHidden = 'false'
            let me = div.eltAt()
            div.getAnimations({ subtree: true }).forEach(o => o.pause())
            await div.animFrom('pop', { duration: 300, iterations: 1, easing: 'ease', fill: 'none' }).finished
            let picture = Proxify(div.querySelector('foreignObject').firstElementChild)
            picture.className = 'preview'
            let img = Proxify(div.firstElementChild.querySelector('img'))
            img.className = 'avatarpopped'
            img.nextNode = v.esc`<span class="caption">${img.title}</span>`
            div.style.willChange = 'transform,filter'
            div.animFrom('fade_in', { duration: 300, iterations: 1 })
            div.replaceChildren(picture.valueOf())
            div.animFrom('dissolve', { duration: 700, iterations: 1, delay: 2000, composite: 'add' })
                .onfinish = kill
            // e.stopImmediatePropagation()
        }
    }, o => o.closest('div').dataset.popped === 'false', false, new AbortController)
    bg.on({
        pointerdown(e) {
            this.setPointerCapture(e.pointerId)
            isHolding = true
        },
        pointerup() {
            isHolding = false
        }
    })
    bg.debounce({
        pointermove({ pageX, pageY }) {
            if (isHolding) {
                bubble(range(15, 20), pageX, pageY).setParent(bg)
                    .animate([{ opacity: 0 }, { opacity: 1 }], {
                        easing: 'ease',
                        iterations: 1,
                        duration: 200,
                        fill: 'forwards'
                    })
            }
        }
    }, 50)
    bg.delegate({
        animationend() {
            v.sel(this.parentElement).purge()
        }
    })
    let avatars  = ["xzzy","auquamantis","kannadra","kae","fourche7","glente","elipoopsrainbows","niya","mr_clownette","lorex","mochi","Dohaaa","armaan.n","zoozi","frannie4u","west","kyn","ilikebugs2","juaj","zee","znsxxe","ghostie","babby","kay_.stars","ka1ya1","river","gilly","lexi","na22","khaoticgood","indie","copy","nova","Leftover_Birthday-Cake","elenfnf1","caelix","mai","stuella","son_yukio","chlorineatt","oli","morrfie","gummicat","anarchy","rue","birdie","Ê±ùËµ∑‰∫ö","saintz","may","valerie","mila","Professional_idiot","Remi","Violet","zrake","novacans_","naz","caevsz","rurikuu","Lotus","Lagia","stav","aya","MRK","lunza","crazy","mothmaddie","rainmint","lazy","rikapika","kurispychips"]
    for (let i = 0, { length } = avatars; i < length; ++i) {
        const pick = Math.floor(Math.random() * (i + 1));
        ({ 0: avatars[i], 1: avatars[pick] } = [avatars[pick], avatars[i]])
    }
    let i = 0
    function avabubble() {
        if (document.hidden) return
        let a = avatar(avatars[i++ % avatars.length]).setParent(bg)
    }
    function tinybubble() {
        setTimeout(tinybubble, range(1000, 1400))
        if (document.hidden) return
        bubble(range(15, 20)).setParent(bg)
    }
    function range(MIN, MAX) {
        return Math.random() * (MAX - MIN) + MIN
    }
    const bubble = (size, x = range(0, innerWidth), y = innerHeight) => {
        const scale = size / 200
        let out = v.esc`<div class="holder" aria-hidden="true" style="will-change:transform;--size: ${size | 0};z-index: -1;left: ${x}px;top:${y}px;">
        <svg xmlns="http://www.w3.org/2000/svg" width="${size}" height="${size}">
        <circle pointer-events="painted" r="${95 * scale}" cx="${100 * scale}" cy="${100 * scale}" fill="rgba(15, 20, 210, 0.4)" stroke="#1043E5" stroke-width="${10 * scale}">
        </circle>
        <path d="M ${180 * scale} ${100 * scale} A ${80 * scale} ${80 * scale} 0 0 0 ${100 * scale} ${20 * scale}" fill="none" stroke="white" stroke-width="${9 * scale}" pointer-events="painted">
        </path>
    </svg></div>`
        out.animFrom('wiggle', { easing: 'ease-in-out', duration: 200, direction: 'alternate' })
        out.animFrom('up', { duration: 10000, easing: 'linear', iterations: 1 })
            .onfinish = kill
        return out
    }
    function kill(e) {
        Proxify(this.effect.target).purge()
    }
    const avatar = (name, size = 60) => {
        const scale = size / 200
        let out = v.esc`<div data-popped="false" class="holder" name="ava" aria-hidden="true" style="--size: ${size}px;transform-origin:center center;z-index:0;top: ${range(0, innerHeight)}px;">
        <svg xmlns="http://www.w3.org/2000/svg" width="${size}" height="${size}">
        <circle cursor="pointer" pointer-events="painted" r="${95 * scale}" cx="${100 * scale}" cy="${100 * scale}" fill="rgba(15, 20, 210, 0.4)" stroke="#1043E5" stroke-width="${10 * scale}">
        </circle>
        <foreignObject x="${30 * scale}" y="${30 * scale}" width="${140 * scale}" pointer-events="painted"  height="${140 * scale}" cursor="pointer">
            <picture>
                <source srcset="./media/avatars/${name}.avif" type="image/avif">
                <source srcset="./media/avatars/${name}.webp" type="image/webp">
                <img draggable="false" src="./media/avatars/${name}.jpg" class="avatar" title="${name}">
            </picture>
        </foreignObject>
        <path cursor="pointer" d="M ${180 * scale} ${100 * scale} A ${80 * scale} ${80 * scale} 0 0 0 ${100 * scale} ${20 * scale}" fill="none" stroke="white" stroke-width="${9 * scale}" pointer-events="painted">
        </path>
    </svg></div>`
        out.animFrom('yAxis', { duration: range(3000, 3500), easing: 'ease-in-out', direction: 'alternate' })
        out.animFrom('xAxis', { duration: 16000 * (Math.random() > .5 ? -1 : 1), easing: 'linear', iterations: 1 })
            .onfinish = kill
        return out
    }
    // avabubble()
    // setInterval(avabubble, 2000)
    // tinybubble()
    let pokemon = []
    function pokemonthing(i) {
        let { 0: pkm, 1: frames } = i.split(':')
        let url = `data:image/png;base64,${dataURLS[i]}`
        let n = new Image
        n.src = url
        n.onload = () => {
            let scale = .5
            let duration = 38.0
            switch (pkm) {
                case 'kingdra':
                    scale *= 1.3
                    break
                case 'corsola':
                    scale *= .7
                    duration *= 1.5
                    break
                case 'wishiwashischool':
                    scale *= 2
                    duration *= 4
                    break
                case 'wishiwashi':
                    duration *= 2
                    scale *= .8
                    break
                case 'jellicent_m':
                case 'jellicent_f':
                    scale *= 1.5
                    duration *= 1.6
                    break
                case 'gorebyss':
                case 'huntail':
                case 'sharpedo':
                    scale *= 1.6
                    duration *= 1.2
                    break
                case 'kyogre':
                    scale *= 3
                    duration *= 2
                    break
                case 'kyogreprimal':
                    scale *= 4
                    duration *= 2.5
                    break
                case 'wailord':
                    scale *= 7
                    duration *= 8
                    break
                case 'groudon':
                    scale *= 3
                    duration *= 1.2
                    break
                case 'manaphy':
                    scale *= 1.3
                    break
                case 'alomomola':
                    scale *= 1.6
                    break
                case 'wailmer':
                    scale *= 2.3
                    duration *= 2
                    break
                case 'mantine':
                    scale *= 1.7
                    duration *= .9
                    break
                case 'palafin':
                    scale *= 1.4
                    break
                case 'seaking':
                    scale *= 1.4
                    break
                case 'skrelp':
                case 'luvdisc':
                    scale *= .8
                    break
                case 'basculegion-f':
                case 'basculegion-m':
                    scale *= 1.4
                    break
                case 'overqwil':
                    scale *= 1.5
                    break
                case 'lanturn':
                case 'lumineon':
                    scale *= 1.5
                    break
                case 'basculin':
                case 'basculin-white':
                case 'basculin-blue':
                    scale *= 1.2
                    break
                case 'clawitzer':
                case 'nihilego':
                    scale *= 1.55
                    break
            }
            scale *= range(.95, 1.05)
            duration *= range(.95, 1.05)
            pokemon.push({ name: pkm, scale: scale * 1.75, duration: duration * 1000 * .7 })
            css.registerCSSRaw(`.${pkm} {
                animation: slideshow ${frames * 150}ms steps(${frames}, end) infinite;
                --frames: ${frames}; 
                --width: ${n.naturalWidth}px;
                --size: ${n.naturalWidth}px;
                background-image: url(${url}); 
                height: ${n.naturalHeight}px;
                width: ${n.naturalWidth / frames}px;
                }`)
        }
    }
    for (let i in dataURLS) pokemonthing(i)
    function spawnPkm(choice = pokemon[Math.floor(Math.random() * pokemon.length)]) {
        setTimeout(spawnPkm, range(500, 2000))
        if (document.hidden || !pokemon.length) return
        let scale = Math.random() > .5 ? -1 : 1
        let thing = v.esc`<div class="${choice.name} pkm${range(0, 1000) > 999 ? ' shiny' : ''}" style="top: ${Math.random() * innerHeight}px;transform:scale(${1.5 * choice.scale * scale}, ${1.5 * choice.scale})"></div>`
            .setParent(bg)
        thing.animFrom('xAxis', { duration: choice.duration * scale, iterations: 1, easing: 'linear', })
            .onfinish = kill
    }
    // spawnPkm()

</script>
<script>
    addEventListener('load', function () {
        'use strict'
        var style = document.getElementById('holder').style
        style.opacity = 1
    })
</script>
<!-- <script type="module" blocking="render" src="./webcomponents/paper-canvas.js"></script> -->

</html>