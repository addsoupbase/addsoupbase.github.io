<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta property="og:locale" content="en_US">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
    <meta name="description" content="View what information websites can see without user activation">
    <meta property="og:image:width" content="750">
    <meta property="og:image:height" content="500">
    <meta property="og:image:type" content="image/*">
    <meta name="color-scheme" content="dark">
    <meta property="og:type" content="website">
    <meta property="og:image" content="YOUR ICON HERE">
    <meta property="og:url" content="https://addsoupbase.github.io/randomstuff/privacy">
    <meta property="og:description" content="View what information websites can see without user activation">
    <meta property="og:title" content="Web Privacy">
    <meta property="og:site_name" content="Web Privacy">
    <meta name="twitter:title" content="Web Privacy">
    <meta name="twitter:description" content="View what information websites can see without user activation">
    <meta name="twitter:url" content="https://addsoupbase.github.io/randomstuff/privacy">
    <meta name="twitter:creator" content="addsoupbase">
    <meta name="twitter:image" content="YOUR ICON HERE">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="profile:username" content="addsoupbase">
    <!-- 'summary_large_image', 'summary', 'app', or 'player' -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <meta name="robots" content="index">
    <meta name="theme-color" content="YOUR COLOR HERE">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="author" content="addsoupbase">
    <link rel="canonical" href="https://addsoupbase.github.io/randomstuff/privacy">
    <link rel="apple-touch-icon" sizes="57x57" href="./apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon-180x180.png">
    <!-- ^ can't be transparent -->
    <meta name="mobile-web-app-capable" content="no">
    <meta name="apple-mobile-web-app-capable" content="no">
    <!-- ^ yes if the site has stuff like back buttons -->
    <meta name="apple-mobile-web-app-title" content="Web Privacy">
    <link rel="apple-touch-startup-image" href="favicon.ico">
    <!-- <script src="../../css.js" blocking="render"></script> -->
    <!-- <script src="../../css_bad.js" nomodule></script> -->
    <title>Web Privacy</title>
    <!-- https://ogp.me/ https://developer.x.com/en/docs/x-for-websites/cards/overview/markup -->
</head>

<body>
    <style>
        @media (prefers-reduced-motion: no-preference) {
            html {
                scroll-behavior: smooth;
            }
        }

        button[aria-pressed="false"] {
            background-color: rgb(216, 3, 3);
        }

        button[aria-pressed="true"] {
            background-color: rgb(17, 128, 1);
        }

        button {
            border: none;
            /* color:black; */
            border-radius: 2px;
            cursor: pointer;
            transition: filter .2s ease
        }

        button:active {
            filter: brightness(80%)
        }

        nav {
            text-align: center;
            font-size: 1.5rem;
        }

        .sect {
            border: 1px solid white;
            padding: 10px;
            margin: 5px;
        }

        .touchtarget {
            /* width: 40px; */
            height: 40px;
            border: 1px dotted white;
            place-content: center;
            font-family: monospace;
            cursor: pointer;
            display: inline-block;
            padding: 10px;
            font-size: larger;
        }

        html {
            color-scheme: dark;
        }

        .sect:empty {
            border: none;
            margin: 0;
            padding: 0;
        }

        /* .sect:hover {
            background-color: grey;
        } */
        .sect:empty::after {
            content: "None"
        }

        :root {
            word-break: break-word;
            font-family: arial, sans-serif;
        }

        :is(h1, h2, h3, h4, h5, h6)::first-letter {
            text-transform: capitalize;
        }

        .prop {
            margin-top: 7px;
            margin-bottom: 7px;
            display: inlines;
        }

        body {
            margin-right: 0;
            margin-top: 0;
        }

        @supports not (color-scheme: dark) {
            body {
                color: white;
                background-color: rgb(18, 18, 18);
            }
        }

        /* .sect:hover {
            background-color: highlight;
        }

        .sect:hover .sect {
            background-color: initial;
        }*/
        .changed {
            animation: flash .5s ease 1 .1s
        }

        @keyframes flash {
            0% {
                color: currentColor
                    /* text-shadow: 0px 0px 0px rgb(255, 255, 255); */
            }

            50% {
                color: rgb(54, 218, 255)
                    /* text-shadow: 0px 0px 10px lightblue; */
            }

            100% {
                color: currentColor
                    /* text-shadow: 0px 0px 0px rgb(255, 255, 255); */
            }
        }

        [title] {
            text-decoration: underline dotted;
            text-underline-offset: 3px;
        }
    </style>
    <button id="redo" style="cursor:pointer; position: sticky;top: 0;left: 100%;padding:5px;">Refresh</button>
    <main>
        <h1>Privacy</h1>
        <nav style="display: grid;">
            <p>Jump to sections:</p>
            <a href="#triggers">Triggers</a>
            <a href="#mouse">Mouse Events</a>
            <a href="#unavailable">Unvailable</a>
        </nav>
        <h1 id="available">Available:</h1>
        <div class="sect" id="y">
            <noscript>
                <div class="prop"><b>JavaScript: </b><samp>false</samp></div>
            </noscript>
        </div>
        <h1 id="triggers">Triggers:</h1>
        <div>
            <div style="display: flex;flex-direction: column;align-items: flex-start;gap:20px">
                <button id="vibrate">Click to Vibrate Device</button>
                <button id="togglefullscreen">Fullscreen</button>
                <button id="triggerprint" style="font-variant-emoji: unicode;">Trigger Print prompt</button>
                <button id="togglewakelock" aria-pressed="false">Toggle WakeLock</button>
                <button id="ann">Announce on screen reader</button>
                <button id="selectall">Select All</button>
                <!-- <button id="blurbtn" title="Does nothing in modern browsers">Blur</button> -->
                <!-- <button id="blurbtn" title="print to stdout">Dump</button> -->
            </div>
        </div>
        <h1 id="unavailable">Unavailable:</h1>
        <div class="sect" id="n">
            <noscript>
                <b>Anything JavaScript related</b>
            </noscript>
        </div>
    </main>
    <script>
        !function (D) {
            'use strict'
            var number = 1
            D.getElementById('ann').onclick = function () {
                D.ariaNotify('Example announcement number ' + number++, {priority: 'high'})
            }
            D.getElementById('vibrate').onclick = function () {
                navigator.vibrate(100)
            }
            D.getElementById('triggerprint').onclick = function () {
                print()
            }
            D.getElementById('selectall').onclick = function() {
                D.execCommand('selectAll', false)
            }
            D.getElementById('togglewakelock').onclick = function (e) {
                var m = e.target
                navigator.wakeLock.request("screen").then(function (n) {
                    var now = m.ariaPressed !== 'true'
                    m.ariaPressed = now + ''
                    now || n.release()
                    console.log('WakeLock:', now)

                })
            }
            D.getElementById('togglefullscreen').onclick = function () {
                if (!resolveVendor(D, 'fullscreenElement') && !resolveVendor(D, 'fullScreenElement') &&  !resolveVendor(D, 'currentFullScreenElement')) (resolveVendor(D.documentElement, 'requestFullscreen') || resolveVendor(D.documentElement, 'requestFullScreen')).call(D.documentElement)
                else (resolveVendor(D, 'exitFullscreen') || resolveVendor(D, 'cancelFullScreen')).call(D)
            }
            var redo = D.getElementById('redo')
            redo.onclick = go
            var yes = D.getElementById('y')
            var no = D.getElementById('n')
            D.domain = D.domain
            var prefixes = ['', 'webkit', 'moz', 'o', 'ms']
            var main = D.querySelector('main')
            main.addEventListener('animationend', function (e) {
                e.target.classList.remove('changed')
            })
            main.addEventListener('click', function (e) {
                var t = e.target
                if (e.pointerType === 'touch' && (t.title || (t = t.parentNode).title)) alert(t.textContent.match(/\w+/) + ': ' + t.title)
            })
            var rAF = resolveVendor(window, 'requestAnimationFrame')
            var navigator = window.navigator || clientInformation
            go()
            function resolveVendor(target, prop) {
                for (var i = prefixes.length; i--;) {
                    var newProp = prop
                    var p = prefixes[i]
                    if (p) newProp = p + prop.charAt(0).toUpperCase() + prop.substring(1)
                    if (newProp in target) return target[newProp]
                }
                return target[prop]
            }
            function getLabel(t) { try {return toString.call(t).slice(8, -1)}catch(e){return ''} }
            function go() {
                if (D.readyState === 'complete') {
                    D.documentElement.style.opacity = 0
                    var old = D.documentElement.scrollTop
                    setTimeout(function () {
                        D.documentElement.style.opacity = 1
                        D.documentElement.scrollTop = old
                    }, 3)
                }
                function addEvent(target, event, val, func) {
                    target = this || target
                    var i = 0
                    var ev = event
                    for (var a = prefixes.length; a--;) {
                        var prefix = prefixes[a]
                        var name = 'on' + prefix + ev
                        if (name in target) {
                            if (!func) val.nextElementSibling.textContent = 'Detected: ' + i++
                            target[name] = function (e) {
                                (func || fallback)(e)
                                val.classList.add('changed')
                            }
                            var fallback = function () {
                                val.nextElementSibling.textContent = 'Detected: ' + i++
                            }
                            return
                        }
                    }
                    reject(getLabel(target) + '.on' + ev)
                    var p = val.parentElement
                    p.removeChild(val.nextElementSibling)
                    p.removeChild(val)
                }
                no.textContent =
                    yes.textContent = ''
                function defaultProp(sect, root, prop) {
                    root = root || ''
                    for (var i = prefixes.length; i--;) {
                        var prefix = prefixes[i]
                        var newProp = prop
                        if (prefix)
                            newProp = prefix + prop.charAt(0).toUpperCase() + prop.substring(1)
                        if (newProp in this) {
                            var hint
                            var val = this[newProp]
                            if (getLabel(this) === 'NetworkInformation') switch (newProp) {
                                case 'downlink': {
                                    hint = 'The effective bandwidth estimate in megabits per second'
                                    val += 'Mb/s'
                                }
                                    break
                                case 'rtt':
                                    hint = 'The estimated effective round-trip time of the current connection'
                                    val += 'ms'
                                    break
                            }
                            addProp(sect, newProp, val, hint)
                            return
                        }
                    }
                    reject(root + prop)
                }
                function reject(name, reason) {
                    var n = addProp(no, name, reason || 'Unsupported')
                    // n.style.textDecoration = 'line-through'
                }
                function addProp(sect, name, value, hint) {
                    var n = D.createElement('div')
                    var na = D.createElement('b')
                    na.textContent = name + ': '
                    n.appendChild(na)
                    var val = D.createElement(value === '' || /^Unsupported/.test(value) ? 'span' : 'samp')
                    if (value === '') value = '(empty string)'
                    n.className = 'prop'
                    /*if (/^https?:\/\//.test(value)) {
                        var anchor = D.createElement('a')
                        anchor.href = anchor.textContent = anchor.title = value
                        anchor.target = '_blank'
                        val.appendChild(anchor)
                    }
                    else */val.textContent = value
                    n.appendChild(val)
                    sect.appendChild(n)
                    if (hint) {
                        n.title = hint
                        n.style.cursor = 'help'
                    }
                    return na
                }
                function precise(a) { return a && a.toFixed(2) }
                function addSect(title, base) {
                    var n = D.createElement('div')
                    n.className = 'sect'
                    n.id = title
                    var el = base || yes
                    el.appendChild(n)
                    var t = D.createElement('h' + Math.min(depth(el), 6))
                    t.textContent = title
                    n.parentNode.insertBefore(t, n)
                    return n
                }
                function depth(e) {
                    var i = 0
                    var e = e.parentElement
                    while (e) {
                        ++i
                        e = e.parentElement
                    }
                    return i
                }
                var windowSect = addSect('window')
                var windowProps = ['orientation', 'innerWidth', 'innerHeight', 'outerWidth', 'outerHeight',
                    'screenX',
                    'screenY',
                    'pageXOffset',
                    'pageYOffset',
                    'mozInnerScreenX',
                    'animationStartTime',
                    'paintCount',
                    'mozInnerScreenY',
                    'scrollMaxX',
                    'scrollMaxY',
                    'scrollX',
                    'scrollY',
                    'screenLeft',
                    'maxConnectionsPerServer',
                    'screenTop',
                    'doNotTrack',
                    'credentialless',
                    'fullScreen',
                    'isSecureContext',
                    'offscreenBuffering',
                    'devicePixelRatio',
                    //'top', 'parent', 
                    'locationbar', 'menubar', 'personalbar', 'statusbar', 'toolbar', 'scrollbars',
                    'originAgentCluster'].sort()
                windowProps.forEach(function (prop) {
                    if (prop in window) {
                        var val = window[prop]
                        var hint
                        if (getLabel(val) === 'BarProp') {
                            val = val.visible
                        }
                        else switch (prop) {
                            case 'orientation':
                                val += '°'
                                break
                            case 'outerWidth':
                                hint = 'Width outside the window'
                                break
                            case 'outerHeight':
                                hint = 'Height outside the window'
                                break
                            case 'credentialless':
                                hint = '"The window.credentialless read-only property returns a boolean that indicates whether the current document was loaded inside a credentialless <iframe>, meaning that it is loaded in a new, ephemeral context."'
                                break
                            case 'offscreenBuffering':
                                hint = 'Whether objects are drawn offscreen before being made visible to the user'
                                break
                        }
                        addProp(windowSect, prop, val, hint)
                    }
                    else reject('window.' + prop)
                })
                addProp(windowSect, 'ES6 Modules', 'noModule'in HTMLScriptElement.prototype)
                    ;['afterprint', 'appinstalled', 'beforeinstallprompt', 'beforeprint', 'beforeunload', 'blur', 'devicemotion', 'deviceorientation', 'deviceorientationabsolute',
                        'focus', 'gamepadconnected', 'gamepaddisconnected',
                        'hashchange',
                        'languagechange',
                        'offline',
                        'online',
                        'orientationchange',
                        'pagehide',
                        'pagereveal',
                        'pageshow',
                        'pageswap',
                        'resize',
                        // 'storage',
                        'vrdisplayactivate',
                        'vrdisplayconnect',
                        'vrdisplayconnect',
                        'vrdisplaydisconnect',
                        'vrdisplaypresentchange',
                        'fullscreenchange',
                        'fullscreenerror'
                    ].sort().forEach(function (e) {
                        var func
                        var sect
                        var hint
                        var a = addProp(windowSect, e + ' event', ' ')
                        switch (e) {
                            case 'devicemotion': if (typeof DeviceMotionEvent === 'function') {
                                sect = addSect('', windowSect)
                                var acc = valIfcan('acceleration', DeviceMotionEvent.prototype, sect)
                                var accWithGravity = valIfcan('accelerationIncludingGravity', DeviceMotionEvent.prototype, sect)
                                var interval = valIfcan('interval', DeviceMotionEvent.prototype, sect)
                                var rotRate = valIfcan('rotationRate', DeviceMotionEvent.prototype, sect)
                                func = function (e) {
                                    if (acc) {
                                        var a = e.acceleration
                                        acc.textContent = '(' + precise(a.x) + ', ' + precise(a.y) + ', ' + precise(a.z) + ')'
                                    }
                                    if (accWithGravity) {
                                        a = e.accelerationIncludingGravity
                                        accWithGravity.textContent = '(' + precise(a.x) + ', ' + precise(a.y) + ', ' + precise(a.z) + ')'
                                    }
                                    if (interval) interval.textContent = e.interval
                                    if (rotRate) rotRate.textContent = '(' + precise(e.rotationRate.alpha) + ', ' + precise(e.rotationRate.beta) + ', ' + precise(e.rotationRate.gamma) + ')'
                                }
                            }
                                break
                            case 'deviceorientation':
                            case 'deviceorientationabsolute':
                                if (typeof DeviceOrientationEvent === 'function') {
                                    hint = 'New data from orientation sensor'
                                    sect = addSect('', windowSect)
                                    var absolute = valIfcan('absolute', DeviceOrientationEvent.prototype, sect)
                                    var alpha = addProp(sect, 'alpha', null, 'The number of degrees by which the device is being twisted around the center of the screen').nextElementSibling
                                    var beta = addProp(sect, 'beta', null, 'Rotation of the device around the X axis').nextElementSibling
                                    var gamma = addProp(sect, 'gamma', null, 'Rotation of the device around the Y axis').nextElementSibling
                                    func = function (e) {
                                        if (absolute) absolute.textContent = e.absolute
                                        alpha.textContent = String(e.alpha !== null ? precise(e.alpha) : a.alpha)
                                        beta.textContent = String(e.beta !== null ? precise(e.beta) : a.beta)
                                        gamma.textContent = String(e.gamma !== null ? precise(e.gamma) : e.gamma)
                                    }
                                }
                                break
                            /* case 'pageswap': if (typeof PageSwapEvent === 'function') {
                                 sect = addSect('', windowSect)
                                 // var subSect = addSect('activation:', sect)
                                 var entry = addProp(sect, 'entry', null).nextElementSibling
                                 var navigationType = addProp(sect, 'navigationType', null).nextElementSibling
                                 func = function(e) {
                                     debugger
                                     navigationType.textContent = e.navigationType
                                 }
                             }
                            case 'storage': if (typeof StorageEvent === 'function') {
                                sect = addSect('', windowSect)
                                var key = addProp(sect, 'key', null).nextElementSibling
                                var newValue = addProp(sect, 'newValue', null).nextElementSibling
                                var oldValue = addProp(sect, 'oldValue', null).nextElementSibling
                                var url = addProp(sect, 'url', null).nextElementSibling
                                func = function (e) {
                                    key.textContent = e.key
                                    newValue.textContent = e.newValue
                                    oldValue.textContent = e.oldValue
                                    url.textContent = e.url
                                }
                            }
                                break*/
                        }
                        addEvent(window, e, a, func)
                    })
                function valIfcan(prop, target, sect, val) { return prop in target ? addProp(sect, prop, val || ' ').nextElementSibling : null }
                var navProps = [
                    "appVersion",
                    "buildID",
                    "cookieEnabled",
                    "deviceMemory",
                    "doNotTrack",
                    "globalPrivacyControl",
                    "hardwareConcurrency",
                    "language",
                    'cpuPerformance',
                    'deprecatedRunAdAuctionEnforcesKAnonymity',
                    "maxTouchPoints",
                    "onLine",
                    'pointerEnabled',
                    'userLanguage',
                    'systemLanguage',
                    'cpuClass',
                    'browserLanguage',
                    'appMinorVersion',
                    'manipulationViewsEnabled',
                    "oscpu",
                    'languages',
                    "pdfViewerEnabled",
                    "platform",
                    "productSub",
                    "userAgent",
                    "webdriver"
                ].sort()
                var navigatorSect = addSect('navigator')
                navProps.forEach(function (o) {
                    if (o in navigator) {
                        var val = navigator[o]
                        if (o === 'doNotTrack') switch (val) {
                            case '0':
                            case 'no':
                                val = 'true'
                                break
                            case '1':
                            case 'yes':
                                val = 'false'
                                break
                            default:
                                val = 'unspecified'
                                break
                        }
                        else if (o === 'languages') val = val.join(', ')
                        var hint
                        switch (o) {
                            case 'buildID':
                                hint = 'Returns "20181001000000" in Firefox 64 and later'
                                break
                            case 'deviceMemory':
                                val = 'at least ' + val + 'GB'
                                break
                            case 'globalPrivacyControl':
                                hint = 'Does the user consent to their data being sold'
                                break
                            case 'hardwareConcurency':
                                hint = 'A number between 1 and the number of logical processors potentially available to the user agent'
                                break
                        }
                        addProp(navigatorSect, o, val, hint)
                    }
                    else reject('navigator.' + o)
                })
                /*if (navigator.getAutoplayPolicy) {
                    addProp(navigatorSect, 'autoplayPolicy', navigator.getAutoplayPolicy())
                }
                else reject('navigator.getAutoplayPolicy')*/
                if (navigator.canShare) {
                    addProp(navigatorSect, 'canShare', navigator.canShare())
                }
                else reject('navigator.canShare', 'Unsupported or insecure context')
                if (navigator.canLoadAdAuctionFencedFrame) {
                    addProp(navigatorSect, 'canLoadAdAuctionFencedFrame', navigator.canLoadAdAuctionFencedFrame())
                }
                else reject('navigator.canLoadAdAuctionFencedFrame')
                if (navigator.connection) {
                    var nisect = addSect('network')
                    var connection = ['downlink', 'downlinkMax', 'effectiveType', 'rtt', 'saveData', 'type'].sort()
                    connection.forEach(defaultProp.bind(navigator.connection, nisect, 'navigator.connection.'))
                    addEvent(navigator.connection, 'change', addProp(nisect, 'change event', null))
                }
                else reject('navigator.connection')
                var pluginSect = addSect('plugins')
                if (navigator.plugins) [].forEach.call(navigator.plugins, function (n) {
                    var sect = addSect(n.name + ':', pluginSect)
                    // addProp(sect, 'description', n.description)
                    addProp(sect, 'name', n.name)
                    addProp(sect, 'types', [].map.call(n, function (o) { return o.type }).join(', '))
                })
                else reject('navigator.plugins')
                if (navigator.devicePosture) {
                    var postureSect = addSect('devicePosture')
                    defaultProp.call(navigator.devicePosture, postureSect, 'navigator.deviceposture', 'type')
                    addEvent(navigator.devicePosture, 'change', addProp(postureSect, 'change event', null))
                }
                else reject('navigator.devicePosture')
                if (navigator.gpu) {
                    var gpu = navigator.gpu
                    var gpusect = addSect('GPU')
                    if (gpu.wgslLanguageFeatures) {
                        addProp(gpusect, 'wgslLanguageFeatures', Array.from(gpu.wgslLanguageFeatures).sort().join(', '))
                    }
                    else reject('GPU.wgslLanguageFeatures')
                    if (gpu.getPreferredCanvasFormat) {
                        addProp(gpusect, 'preferredCanvasFormat', gpu.getPreferredCanvasFormat())
                    }
                    else reject('GPU.getPreferredCanvasFormat')
                }
                else reject('navigator.gpu', 'Unsupported or insecure context')
                if (navigator.preferences) {
                    var prefs = navigator.preferences
                    var prefSect = addSect('preferences')
                    !function () {
                        for (var i in prefs) {
                            addProp(prefSect, i, prefs[i].value)
                        }
                    }()
                }
                else reject('navigator.preferences')
                if (navigator.userAgentData) {
                    var uadata = navigator.userAgentData
                    var uasect = addSect('NavigatorUAData')
                    defaultProp.call(uadata, uasect, 'navigator.userAgentData.mobile', 'mobile')
                    defaultProp.call(uadata, uasect, 'navigator.userAgentData.platform', 'platform')
                    var uaBrandsSect = addSect('Brands:', uasect)
                    uadata.brands.forEach(function (o) {
                        addProp(uaBrandsSect, o.brand, 'Version ' + o.version)
                    })
                }
                else reject('navigator.userAgentData')
                if (location.ancestorOrigins) {
                    if (location.ancestorOrigins.length) {
                        var ancestorSect = addSect('location')
                        addProp(ancestorSect, 'ancestorOrigins', [].join.call(location.ancestorOrigins, ' '))
                    }
                }
                else reject('location.ancestorOrigins')

                var docSect = addSect('document')
                    ;['fullscreenEnabled', 'cookie', 'hidden', 'isFullScreen', 'fullscreen','wasDiscarded','prerendering','title',
                        'referrer', 'pictureInPictureEnabled', 'lastModified','defaultCharset','fileCreatedDate','fileModifiedDate','fileUpdatedDate','mimeType',
                    'protocol','security','capsLockWarning','nameProp'].sort().forEach(defaultProp.bind(D, docSect, 'document.'))
                if (D.hasStorageAccess || D.hasUnpartitionedCookieAccess) {
                    (D.hasStorageAccess || D.hasUnpartitionedCookieAccess).call(D).then(function (e) {
                        addProp(docSect, 'hasStorageAccess', e)
                    }, function (e) {
                        reject('document.hasStorageAccess/document.hasUnpartitionedCookieAccess', e.toString())
                    })
                }
                else reject('document.hasStorageAccess/document.hasUnpartitionedCookieAccess')
                if (D.featurePolicy) {
                    var features = addSect('featurePolicy:', docSect)
                    addProp(features, 'allowedFeatures', D.featurePolicy.allowedFeatures().sort().join(', '))
                }
                else reject('document.featurePolicy')
                addEvent(D, 'fullscreenchange', addProp(docSect, 'fullscreenchange event', null))
                addEvent(D, 'fullscreenerror', addProp(docSect, 'fullscreenerror event', null))
                if (window.navigation) {
                    var navigationSect = addSect('navigation')
                        ;['canGoBack', 'canGoForward'].forEach(defaultProp.bind(navigation, navigationSect, 'navigation'))
                    if (navigation.entries) {
                        addProp(navigationSect, 'entries', navigation.entries().map(function (e) { return e.url }).join(', '))
                    }
                    else reject('navigation.entries')
                }
                else reject('navigation')
                if (window.performance) {
                    var perfSect = addSect('performance')
                    if (performance.navigation) {
                        addProp(perfSect, 'redirectCount', performance.navigation.redirectCount)
                    }
                    else reject('performance.navigation.redirectCount')
                        ;['timeOrigin', 'interactionCount'].sort().forEach(defaultProp.bind(performance, perfSect, 'performance'))
                    if (performance.eventCounts) {
                        addProp(perfSect, 'eventCounts', performance.eventCounts.size)
                    }
                    else reject('performance.eventCounts')
                    if (performance.now) {
                        addProp(perfSect, 'now', performance.now())
                    }
                    else reject('performance.now')
                    if (performance.memory) {
                        var perfMemSect = addSect('memory:', perfSect)
                        for (var m in performance.memory) addProp(perfMemSect, m, performance.memory[m])
                    }
                    else reject('performance.memory')
                }
                else reject('performance')
                if (window.screen) {
                    var screenSect = addSect('screen')
                        ;['availWidth', 'availHeight', 'colorDepth', 'height', 'width', 'isExtended', 'mozBrightness', 'mozEnabled', 'pixelDepth']
                            .sort().forEach(defaultProp.bind(screen, screenSect, 'screen.'))
                    if (screen.orientation) {
                        var screenOrientationSect = addSect('orientation:', screenSect)
                        addProp(screenOrientationSect, 'angle', screen.orientation.angle + '°')
                        addProp(screenOrientationSect, 'type', screen.orientation.type)
                        addEvent(screen.orientation, 'change', addProp(screenOrientationSect, 'change event', null))
                    }
                    else reject('screen.orientation')
                }
                else reject('screen')
                if (window.viewport && window.Viewport) {
                    var viewportSect = addSect('viewport')
                    var addSectForScreen = function (obj, key) {
                        addProp(this, key, obj[key])
                    }
                    viewport.segments.forEach(function (o, i) {
                        var s = addSect((i + 1) + '.', viewportSect)
                            ;['x', 'y', 'width', 'top', 'right', 'left', 'height', 'bottom'].sort().forEach(addSectForScreen.bind(s, o))
                    })
                }
                else reject('viewport')
                if (window.visualViewport === null || window.visualViewport) {
                    var visualViewportSect = addSect('visualViewport')
                    if (visualViewport) {
                        [
                            "height",
                            "offsetLeft",
                            "offsetTop",
                            "pageLeft",
                            "pageTop",
                            "scale",
                            "width"
                        ].forEach(defaultProp.bind(visualViewport, visualViewportSect, 'visualViewport'))
                            ;['resize', 'scroll', 'scrollend'].forEach(function (n) { addEvent(visualViewport, n, addProp(visualViewportSect, n + ' event', null)) })
                    }
                }
                else reject('visualViewport')
                if (navigator.battery || navigator.getBattery) try {
                    var bat = navigator.battery
                    var batSect = addSect('battery')
                    var doBattery = function (bat) {
                        ['charging', 'chargingTime', 'dischargingTime'].sort().forEach(defaultProp.bind(bat, batSect, 'battery'))
                        addProp(batSect, 'level', (bat.level * 100) + '%')
                            ;['chargingchange', 'chargingtimechange', 'dischargingtimechange', 'levelchange'].forEach(function (n) {
                                addEvent(bat, n, addProp(batSect, n + ' event', null))
                            })
                    }
                    if (bat) doBattery(bat)
                    else navigator.getBattery().then(doBattery, function (e) { reject('battery', e.toString()) })
                }
                    catch (e) {
                        reject('battery', e.toString())
                    }
                else reject('battery','Unsupported or insecure context')
                if (navigator.virtualKeyboard) {
                    var virtualKeyboardSect = addSect('virtualKeyboard')
                    addProp(virtualKeyboardSect, 'overlaysContent', navigator.virtualKeyboard.overlaysContent)
                    var keyboardBoundRectSect = addSect('Bounding Rect:', virtualKeyboardSect)
                        ;['x', 'y', 'width', 'height', 'top', 'right', 'bottom', 'left'].sort().forEach(function (e) {
                            addProp(keyboardBoundRectSect, e, navigator.virtualKeyboard.boundingRect[e])
                        })
                }
                else reject('virtualKeyboard')
                if (navigator.keyboard) {
                    var keyboardSect = addSect('keyboard')
                    navigator.keyboard.getLayoutMap().then(function (e) {
                        addProp(keyboardSect, 'keys', Array.from(e.values()).sort().join(''))
                    })
                }
                else reject('navigator.keyboard', 'Unsupported or insecure context')
                if (window.chrome) {
                    var chromeSect = addSect('chrome')
                    var loadTimes = addSect('loadTimes', chromeSect)
                    var csi = addSect('CSI', chromeSect)
                    var cs = chrome.csi()
                    var lt = chrome.loadTimes()
                    for (var p in lt) {
                        addProp(loadTimes, p, lt[p])
                    }
                    for (var p in cs) {
                        addProp(csi, p, cs[p])
                    }
                }
                else reject('Chrome')
                /* if ('ontouchstart' in window) {
                     var click = addSect('touch')
                     // var touchstart = addSect('\0touchstart', touches)
                     // var touchmove = addSect('\0touchmove', touches)
                     // var touchend = addSect('\0touchend', touches)
                     var clickfunc = function (list, e) {
                         list.innerHTML = '';
                         [].forEach.call(e.changedTouches, function (t) {
                             ['clientX', 'clientY', 'force', 'pageX', 'pageY', 'radiusX', 'radiusY', 'rotationAngle', 'screenX', 'screenY']
                                 .sort().forEach(function (n) {
                                     addProp(list, n, precise(t[n]))
                                 })
                         })
                     };
                     ['touchstart', 'touchmove', 'touchend'].forEach(function (e) {
                         var sect = addSect('', click)
                         var prop = addSect(e + ' event', sect)
                         var list = addSect('touches:', prop)
                         addEvent(window, e, sect, clickfunc.bind(prop.nextElementSibling, list))
                     })
                 }
                 else reject('Touch events')*/
                if ('onmousedown' in window) {
                    var click = addSect('mouse')
                    // var touchstart = addSect('\0touchstart', touches)
                    // var touchmove = addSect('\0touchmove', touches)
                    // var touchend = addSect('\0touchend', touches)

                    var all = ['clientX', 'clientY', 'force', 'pageX', 'pageY', 'radiusX', 'radiusY', 'rotationAngle', 'screenX', 'screenY',
                        'layerX', 'layerY', 'metaKey', 'ctrlKey', 'movementX', 'movementY', 'mozInputSource', 'offsetX', 'offsetY',
                        'shiftKey', 'webkitForce', 'which', 'button'
                    ].filter(function (e) { return e in MouseEvent.prototype }).sort()
                        ;['mousemove', 'mousedown'].forEach(function (e) {
                            var vals = {}
                            var clickfunc = function (e) {
                                all.forEach(function (n) {
                                    vals[n].textContent = e[n]
                                })
                            }
                            var sect = addSect(e + ' event', click)
                            addEvent(window, e, sect, clickfunc)
                            all.forEach(function (e) {
                                vals[e] = addProp(sect, e, null).nextElementSibling
                            })
                        })
                }
                else reject('Mouse events')
            }
            /*function createReciever(sect, type) {
                var n = D.createElement('div')
                n.className = 'touchtarget'
                sect.appendChild(n)
                var after = D.createElement('aside')
                n.textContent = type + ' here'
                sect.appendChild(after)
                return n
            }*/
        }(document)
    </script>
    <footer>
        <nav style="display: grid;">
            <p>Jump to sections:</p>
            <a href="#triggers">Triggers</a>
            <a href="#mouse">Mouse Events</a>
            <a href="#available">Available</a>
        </nav>
        <p style="font-size: 2em;text-align: center;">I'll add more stuff later!</p>
    </footer>
</body>

</html>